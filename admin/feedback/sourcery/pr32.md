# Sourcery Review Analysis
**PR**: #32
**Repository**: grimm00/dev-toolkit
**Generated**: Mon Jan 26 05:38:17 CST 2026

---

## Summary

Total Individual Comments: 2 + Overall Comments

## Individual Comments

### Comment #1

**Location**: `lib/doc-gen/render.sh:13-19`

**Type**: suggestion

**Description**: The kebab-to-Title Case `sed`/`awk` pipeline for `topic_name` appears in multiple setters (`dt_set_exploration_vars`, `dt_set_research_vars`, `dt_set_decision_vars`). Centralizing this in a helper (e.g. `dt_to_title_case()`) would eliminate duplication and ensure consistent behavior if the transformation changes.

<details>
<summary>Details</summary>

<b>Code Context</b>

<pre><code>
+# Each list includes variables used in templates for that category
+# PURPOSE is universal - brief description of the document&#x27;s purpose
+DT_EXPLORATION_VARS=&#x27;${DATE} ${STATUS} ${TOPIC_NAME} ${TOPIC_TITLE} ${PURPOSE}&#x27;
+DT_RESEARCH_VARS=&#x27;${DATE} ${STATUS} ${TOPIC_NAME} ${TOPIC_TITLE} ${QUESTION} ${QUESTION_NAME} ${PURPOSE} ${TOPIC_COUNT} ${DOC_COUNT}&#x27;
+DT_DECISION_VARS=&#x27;${DATE} ${STATUS} ${TOPIC_NAME} ${TOPIC_TITLE} ${ADR_NUMBER} ${DECISION_TITLE} ${PURPOSE} ${DECISION_COUNT} ${BATCH_NUMBER}&#x27;
+DT_PLANNING_VARS=&#x27;${DATE} ${STATUS} ${FEATURE_NAME} ${PHASE_NUMBER} ${PHASE_NAME} ${PURPOSE}&#x27;
</code></pre>

<b>Issue</b>

**suggestion:** Consider extracting the kebab-case â†’ Title Case transformation into a reusable helper to avoid repetition.

</details>

---

### Comment #2

**Location**: `admin/planning/features/dt-workflow/phase-2.md:110`

**Type**: suggestion

**Description**: `~/Projects/dev-infra/scripts/doc-gen/templates/` is a local filesystem path and wonâ€™t resolve for most readers or in hosted documentation. Please switch to a repo-relative path or a stable documentation URL that others can access.

<details>
<summary>Details</summary>

<b>Code Context</b>

<pre><code>
+- [Research: Template Structure](../../research/dt-workflow/research-template-structure.md)
 - [Research: Workflow I/O Specs](../../research/dt-workflow/research-workflow-io-specs.md)
 - [Pattern 4: Handoff File Contract](../../../../docs/patterns/workflow-patterns.md)
+- [Dev-Infra Templates](~/Projects/dev-infra/scripts/doc-gen/templates/)

 ---
</code></pre>

<b>Issue</b>

**suggestion:** The Dev-Infra Templates link uses a user-specific filesystem path, which may not be portable.

</details>

---

## Overall Comments

- Both unit and integration BATS suites reimplement very similar `setup`/`teardown` logic (mktemp project, git init, directory scaffolding); consider moving this into a shared helper so tests only declare whatâ€™s unique to each suite and the common project bootstrap stays in one place.

## Priority Matrix Assessment

| Comment | Priority | Impact | Effort | Action | Notes |
|---------|----------|--------|--------|--------|-------|
| #1 | ðŸŸ¢ LOW | ðŸŸ¡ MEDIUM | ðŸŸ¡ MEDIUM | Defer to Phase 2 | render.sh is Phase 2 scope; refactoring can wait |
| #2 | ðŸŸ¢ LOW | ðŸŸ¢ LOW | ðŸŸ¢ LOW | Fix now | Simple path fix - replace local path with note |
| Overall | ðŸŸ¡ MEDIUM | ðŸŸ¡ MEDIUM | ðŸŸ¡ MEDIUM | Defer | Tests work fine; consolidation is future improvement |

### Assessment Summary

**CRITICAL/HIGH Issues:** None

**Issues to Fix Now:**
- **Comment #2:** Replace non-portable filesystem path in phase-2.md

**Issues to Defer:**
- **Comment #1:** Centralize kebab-to-Title Case transformation (Phase 2 scope)
- **Overall:** Consolidate test setup/teardown logic (future improvement)

### Priority Levels
- ðŸ”´ **CRITICAL**: Security, stability, or core functionality issues
- ðŸŸ  **HIGH**: Bug risks or significant maintainability issues
- ðŸŸ¡ **MEDIUM**: Code quality and maintainability improvements
- ðŸŸ¢ **LOW**: Nice-to-have improvements

### Impact Levels
- ðŸ”´ **CRITICAL**: Affects core functionality
- ðŸŸ  **HIGH**: User-facing or significant changes
- ðŸŸ¡ **MEDIUM**: Developer experience improvements
- ðŸŸ¢ **LOW**: Minor improvements

### Effort Levels
- ðŸŸ¢ **LOW**: Simple, quick changes
- ðŸŸ¡ **MEDIUM**: Moderate complexity
- ðŸŸ  **HIGH**: Complex refactoring
- ðŸ”´ **VERY_HIGH**: Major rewrites


