# Workflow-Helper Template for Dev-Toolkit

**Status:** 💡 Future Enhancement Idea  
**Priority:** 🟡 MEDIUM (Nice-to-have)  
**Origin:** Pokehub's workflow-helper.sh analysis  
**Date:** 2025-10-06

---

## 🎯 Concept

Create a **template generator** in dev-toolkit that scaffolds a customizable `workflow-helper.sh` for any project, pre-wired with dev-toolkit integration and best practices.

---

## 💡 The Insight

While analyzing Pokehub's `workflow-helper.sh`, we discovered:

**The Pattern is Reusable ✅**
- Command routing structure
- Help text generation
- Color output system
- Safety check integration
- GitHub CLI wrappers
- Status reporting framework

**The Commands are Project-Specific ❌**
- `dev`, `backend`, `frontend` - Pokehub's servers
- `test` - Pokehub's test suite
- Project-specific workflows

**Conclusion:** The **framework** is generic, the **content** is project-specific!

---

## 🚀 Proposed Feature

### Command: `dt-init-workflow-helper`

**What it does:**
```bash
cd /path/to/my-project
dt-init-workflow-helper

# Creates: scripts/workflow-helper.sh
# - Pre-wired with dev-toolkit integration
# - Command routing framework ready
# - Help text system in place
# - Placeholder commands to customize
# - Best practices built-in
```

**Output:**
```bash
✅ Created scripts/workflow-helper.sh
📝 Template includes:
   - Git Flow shortcuts (start-feature, pr, etc.)
   - Dev-toolkit integration (safety, hooks, etc.)
   - Placeholder project commands (TODO: customize)
   - Help text system
   - Color output

💡 Next steps:
   1. Edit scripts/workflow-helper.sh
   2. Customize project-specific commands (dev, test, etc.)
   3. Run: ./scripts/workflow-helper.sh help
```

---

## 📋 Template Structure

### Core Framework (Provided by Template)

```bash
#!/bin/bash
# Generated by dev-toolkit v1.0.0
# Workflow Helper Template
# Customize the PROJECT-SPECIFIC sections below

set -e

# ============================================================================
# DEV-TOOLKIT INTEGRATION (Auto-generated - Don't modify)
# ============================================================================

# Detect dev-toolkit installation
if [ -n "${DT_ROOT:-}" ]; then
    TOOLKIT_ROOT="$DT_ROOT"
elif [ -f "$HOME/.dev-toolkit/lib/git-flow/utils.sh" ]; then
    TOOLKIT_ROOT="$HOME/.dev-toolkit"
else
    echo "❌ Error: dev-toolkit not found"
    exit 1
fi

# Source utilities
source "$TOOLKIT_ROOT/lib/git-flow/utils.sh"
gf_init_git_flow_utils >/dev/null 2>&1 || true

# Colors (auto-generated)
if [[ -t 1 ]] && command -v tput >/dev/null 2>&1; then
    RED=$(tput setaf 1)
    GREEN=$(tput setaf 2)
    # ... etc
fi

# ============================================================================
# PROJECT-SPECIFIC CONFIGURATION (Customize this)
# ============================================================================

PROJECT_NAME="MyProject"  # TODO: Change this
PROJECT_DIR="$(gf_get_project_root)"

# ============================================================================
# HELPER FUNCTIONS (Auto-generated)
# ============================================================================

print_header() {
    echo "${PURPLE}🚀 $PROJECT_NAME Workflow Helper${NC}"
    echo "${CYAN}═══════════════════════════════════════${NC}"
}

print_section() {
    echo ""
    echo "${BLUE}$1${NC}"
    echo "${CYAN}───────────────────────────────────────${NC}"
}

# ============================================================================
# COMMAND ROUTING (Customize the commands below)
# ============================================================================

case "$1" in
    # ========================================================================
    # GIT FLOW SHORTCUTS (Pre-wired with dev-toolkit)
    # ========================================================================
    
    "start-feature"|"sf")
        if [ -z "$2" ]; then
            echo "${RED}Usage: $0 start-feature <feature-name>${NC}"
            exit 1
        fi
        echo "${GREEN}🌱 Starting new feature: $2${NC}"
        gf_git_checkout $DEVELOP_BRANCH
        gf_git_pull origin $DEVELOP_BRANCH
        gf_git_checkout "feat/$2" true
        echo "${GREEN}✅ Created and switched to feat/$2${NC}"
        ;;
    
    # ... more Git Flow shortcuts (start-fix, pr, etc.)
    
    # ========================================================================
    # PROJECT-SPECIFIC COMMANDS (TODO: Customize these!)
    # ========================================================================
    
    "dev"|"start")
        echo "${GREEN}🚀 Starting development servers${NC}"
        # TODO: Add your project's dev server command
        # Example: python -m backend.app & cd frontend && npm run dev
        echo "${YELLOW}⚠️  TODO: Customize this command in workflow-helper.sh${NC}"
        ;;
    
    "test"|"t")
        echo "${GREEN}🧪 Running tests${NC}"
        # TODO: Add your project's test command
        # Example: npm test && pytest
        echo "${YELLOW}⚠️  TODO: Customize this command in workflow-helper.sh${NC}"
        ;;
    
    "backend"|"be")
        echo "${GREEN}🐍 Starting backend${NC}"
        # TODO: Add your backend start command
        echo "${YELLOW}⚠️  TODO: Customize this command in workflow-helper.sh${NC}"
        ;;
    
    "frontend"|"fe")
        echo "${GREEN}⚛️  Starting frontend${NC}"
        # TODO: Add your frontend start command
        echo "${YELLOW}⚠️  TODO: Customize this command in workflow-helper.sh${NC}"
        ;;
    
    # ========================================================================
    # DEV-TOOLKIT INTEGRATION (Pre-wired)
    # ========================================================================
    
    "safety"|"check"|"safe")
        echo "${GREEN}🛡️  Running Git Flow safety checks${NC}"
        dt-git-safety check
        ;;
    
    "install-hooks"|"hooks")
        echo "${GREEN}🪝 Installing Git Flow safety hooks${NC}"
        dt-install-hooks
        ;;
    
    # ========================================================================
    # HELP TEXT (Auto-generated)
    # ========================================================================
    
    "help"|"h"|"")
        print_header
        echo ""
        echo "${GREEN}Available commands:${NC}"
        echo ""
        
        print_section "🌳 Git Flow (dev-toolkit)"
        echo "  ${CYAN}start-feature, sf${NC} <name>   Start new feature branch"
        echo "  ${CYAN}start-fix, fix${NC} <name>      Start new fix branch"
        echo "  ${CYAN}pr${NC}                         Create pull request"
        echo "  ${CYAN}safety, check${NC}              Run safety checks"
        echo "  ${CYAN}install-hooks${NC}              Install pre-commit hooks"
        
        print_section "🚀 Development (TODO: Customize)"
        echo "  ${CYAN}dev, start${NC}                 Start development servers"
        echo "  ${CYAN}test, t${NC}                    Run tests"
        echo "  ${CYAN}backend, be${NC}                Start backend"
        echo "  ${CYAN}frontend, fe${NC}               Start frontend"
        
        echo ""
        echo "${YELLOW}💡 Tip: Edit this file to customize project-specific commands${NC}"
        ;;
    
    *)
        echo "${RED}❌ Unknown command: $1${NC}"
        echo "${YELLOW}Run '$0 help' for available commands${NC}"
        exit 1
        ;;
esac
```

---

## ✨ Features

### 1. Pre-Wired Dev-Toolkit Integration
- Auto-detects dev-toolkit installation
- Sources git-flow utilities
- Initializes configuration
- Color output system ready

### 2. Git Flow Shortcuts Included
- `start-feature`, `start-fix`, `start-chore`, `start-hotfix`
- `pr`, `pr-status`, `pr-view`
- `push`, `pull`, `sync`
- `safety`, `install-hooks`

### 3. Placeholder Project Commands
- `dev`, `test`, `backend`, `frontend`
- Clear TODO comments for customization
- Warning messages until customized

### 4. Help Text System
- Auto-generated help command
- Organized by category
- Easy to extend

### 5. Best Practices Built-In
- Error handling (`set -e`)
- Input validation
- Colored output
- Consistent messaging

---

## 🎯 Benefits

### For New Projects
- ✅ **Fast setup** - One command to scaffold
- ✅ **Consistent pattern** - Same structure across projects
- ✅ **Best practices** - Built into template
- ✅ **Easy customization** - Clear TODO markers

### For Dev-Toolkit
- ✅ **Increased adoption** - Lower barrier to entry
- ✅ **Showcase features** - Demonstrates integration
- ✅ **Standardization** - Consistent patterns across projects
- ✅ **Documentation** - Living example of best practices

### For Developers
- ✅ **Quick onboarding** - One script to learn
- ✅ **Familiar commands** - Same shortcuts everywhere
- ✅ **Less boilerplate** - No need to write from scratch
- ✅ **Customizable** - Adapt to project needs

---

## 📊 Implementation Plan

### Phase 1: Template Creation
1. Extract reusable patterns from Pokehub's workflow-helper.sh
2. Create template file in dev-toolkit
3. Add TODO markers for customization points
4. Test template generation

### Phase 2: Generator Command
1. Create `dt-init-workflow-helper` command
2. Add interactive prompts (project name, etc.)
3. Generate customized template
4. Make script executable

### Phase 3: Documentation
1. Add to dev-toolkit README
2. Create template customization guide
3. Add examples for common stacks
4. Document best practices

### Phase 4: Enhancements
1. Add stack-specific templates (Python, Node, Go, etc.)
2. Interactive customization wizard
3. Update command to refresh existing files
4. Community template gallery

---

## 🔧 Usage Examples

### Basic Usage
```bash
cd my-new-project
dt-init-workflow-helper

# Edit generated file
vim scripts/workflow-helper.sh

# Customize project commands
# - Replace TODO markers
# - Add project-specific logic
# - Test commands

# Use it!
./scripts/workflow-helper.sh help
./scripts/workflow-helper.sh sf my-feature
```

### With Options
```bash
# Specify project name
dt-init-workflow-helper --name "My Awesome Project"

# Choose stack template
dt-init-workflow-helper --stack python-react

# Custom output path
dt-init-workflow-helper --output scripts/dev-helper.sh
```

---

## 🎨 Stack-Specific Templates (Future)

### Python + React Stack
```bash
dt-init-workflow-helper --stack python-react

# Pre-filled with:
# - python -m backend.app
# - cd frontend && npm run dev
# - pytest && npm test
```

### Node.js Full-Stack
```bash
dt-init-workflow-helper --stack node-fullstack

# Pre-filled with:
# - npm run dev
# - npm test
# - npm run lint
```

### Go + React
```bash
dt-init-workflow-helper --stack go-react

# Pre-filled with:
# - go run main.go
# - cd frontend && npm run dev
# - go test ./... && npm test
```

---

## 📈 Success Metrics

**Adoption:**
- Number of projects using template
- GitHub stars/forks
- Community contributions

**Value:**
- Time saved vs writing from scratch
- Consistency across projects
- Developer satisfaction

---

## 🚧 Current Status

**Status:** 💡 Idea / Proposal  
**Priority:** 🟡 MEDIUM  
**Effort:** 🟡 MEDIUM (2-3 days)  
**Dependencies:** Dev-toolkit Phase 1 complete

**Next Steps:**
1. Discuss with team/community
2. Gather feedback on template structure
3. Prioritize in dev-toolkit roadmap
4. Implement if approved

---

## 💬 Discussion Points

1. **Should this be in dev-toolkit core or a separate repo?**
   - Pro core: Easier discovery, one installation
   - Pro separate: Optional, lighter core

2. **How much customization should be interactive vs manual editing?**
   - Interactive: Easier for beginners
   - Manual: More flexible, simpler implementation

3. **Should we support multiple templates or one flexible template?**
   - Multiple: Better defaults for each stack
   - One: Simpler to maintain

4. **How do we handle updates to the template?**
   - Regenerate command?
   - Migration guide?
   - Version tracking?

---

## 📚 Related Documents

- [Workflow-Helper Analysis](workflow-helper-analysis.md)
- [Dev-Toolkit Roadmap](https://github.com/grimm00/dev-toolkit/blob/main/admin/planning/roadmap.md)
- [Pokehub Workflow-Helper](../../scripts/workflow-helper.sh)

---

**Last Updated:** 2025-10-06  
**Status:** 💡 Proposal for Dev-Toolkit Enhancement  
**Origin:** Pokehub workflow-helper.sh pattern analysis
